<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>ãŠæ°—ã«å…¥ã‚Šï¼ˆç¸®å°ç‰ˆï¼‰</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root { --bg:#111; --fg:#fff; --muted:#aaa; --accent:#ffd54a; }
    *{ box-sizing:border-box }
    body{
      margin:0; background:var(--bg); color:var(--fg); font-family:system-ui, -apple-system, "Noto Sans JP", Meiryo, sans-serif;
      display:flex; min-height:100vh; align-items:center; justify-content:center; padding:12px;
    }
    .app{ width:min(720px, 96vw); }
    h1{ font-size:18px; margin:0 0 10px; }
    .bar{ display:flex; gap:8px; flex-wrap:wrap; align-items:center; margin:10px 0 8px; }
    select, button{
      background:#1a1a1a; color:var(--fg); border:1px solid #333; border-radius:10px; padding:8px 12px; font-size:14px;
    }
    button.primary{ background:var(--accent); color:#222; border-color:#cc9 }
    .stage{ position:relative; width:100%; aspect-ratio:16/9; background:#000; border:1px solid #222; border-radius:12px; overflow:hidden; }
    iframe{ width:100%; height:100%; display:block; border:0 }
    .hint{ color:var(--muted); font-size:12px; margin-top:8px }
    .list{ display:grid; grid-template-columns:1fr 1fr; gap:6px; margin-top:10px }
    .item-btn{ background:#1a1a1a; border:1px solid #333; border-radius:10px; padding:8px 10px; text-align:left; cursor:pointer }
    .item-btn small{ color:var(--muted) }
  </style>
</head>
<body>
  <div class="app">
    <h1>ãŠæ°—ã«å…¥ã‚Šï¼ˆç¸®å°ç‰ˆï¼‰</h1>

    <!-- ã‚·ãƒ³ãƒ—ãƒ«æ“ä½œåˆ—ï¼šã‚»ãƒ¬ã‚¯ãƒˆã§é¸ã‚“ã§å†ç”Ÿ or å¤–éƒ¨ã§é–‹ã -->
    <div class="bar">
      <label>Pick
        <select id="pick"></select>
      </label>
      <button id="play" class="primary">â–¶ åŸ‹ã‚è¾¼ã¿å†ç”Ÿ</button>
      <button id="open">â†— å¤–éƒ¨ã§é–‹ã</button>
      <button id="stop">â¹ åœæ­¢</button>
    </div>

    <!-- ã‚¹ãƒ†ãƒ¼ã‚¸ï¼ˆåŸ‹ã‚è¾¼ã¿è¡¨ç¤ºï¼‰ -->
    <div class="stage">
      <iframe id="frame" allow="autoplay; encrypted-media; picture-in-picture" allowfullscreen></iframe>
    </div>
    <div class="hint" id="hint">â€»åŸ‹ã‚è¾¼ã¿ä¸å¯ã®ãƒšãƒ¼ã‚¸/å‹•ç”»ã¯ã€Œå¤–éƒ¨ã§é–‹ãã€ã‚’ä½¿ã£ã¦ãã ã•ã„ã€‚</div>

    <!-- ãŠæ°—ã«å…¥ã‚Šã®â€œæŠ¼ã—ã‚„ã™ã„ãƒœã‚¿ãƒ³â€ä¸€è¦§ï¼ˆãŠå¥½ã¿ã§å¢—æ¸›OKï¼‰ -->
    <div class="list" id="quick"></div>
  </div>

  <script>
    // ãŠæ°—ã«å…¥ã‚Šï¼ˆæœ€åˆã¯è¦ªãƒšãƒ¼ã‚¸ã¨åŒã˜ä»£è¡¨ä¾‹ï¼‹C1ãƒšãƒ¼ã‚¸ã«åˆã†é …ç›®ï¼‰
    // ã“ã“ã«è¿½åŠ ãƒ»é †ç•ªå…¥æ›¿ã§OK
    const items = [
      // Music (åŸ‹ã‚è¾¼ã¿ä¸å¯ãŒå‡ºãŸã‚‰ open ã‚’ä½¿ã†)
      { label: 'A1 â€” ãƒ¯ã‚¤ãƒ³ãƒ¬ãƒƒãƒ‰ã®å¿ƒ', url: 'https://youtu.be/jNvYRdQfoWA?si=1J6wfP9aRnkTYBZd', type:'yt' },
      { label: 'A2 â€” åœ°ä¸Šã®æ˜Ÿï¼ˆä¸­å³¶ã¿ã‚†ãï¼‰', url: 'https://youtube.com/watch?v=v2SlpjCz7uE&si=O5yHebIxmJL-Vo1a', type:'yt', embed:false }, // åŸ‹ã‚è¾¼ã¿ä¸å¯
      { label: 'A3 â€” åœ°ä¸Šã®æ˜Ÿï¼ˆAIæ¼”æ­Œæ­Œæ‰‹ï¼‰', url: 'https://youtube.com/watch?v=KIuvkjfcqnE&si=BKesE4SY0s9kv6jo', type:'yt' },
      { label: 'A4 â€” è–æ¯ãŸã¡ã®ãƒ©ãƒ©ãƒã‚¤ï¼ˆAIã‚«ãƒãƒ¼ï¼‰', url: 'https://youtube.com/watch?v=iSj7rw9AmZ8&si=gwc7ISjCMRH6oG49', type:'yt' },
      { label: 'B1 â€” é›¨ã®å¾¡å ‚ç­‹ï¼ˆAIæ¼”æ­Œæ­Œæ‰‹ï¼‰', url: 'https://youtube.com/watch?v=eUtoo78SkfU&si=fuJfl2yXadB3eAX6', type:'yt' },

      // è§£èª¬å‹•ç”»
      { label: 'B2 â€” 2025å¹´æœ€æ–°ï¼YouTubeã®å§‹ã‚æ–¹', url: 'https://youtube.com/watch?v=8oIMKcGPgB0&si=PQb2NMa_2cVGm0LM', type:'yt' },
      { label: 'B3 â€” YouTube å†ç”Ÿãƒªã‚¹ãƒˆã®ä½œã‚Šæ–¹ï¼', url: 'https://youtube.com/watch?v=aNthLKKMDk4&si=-ZsamA27uESVUTcE', type:'yt' },
      { label: 'B4 â€” PDFã§å…±æœ‰ã™ã‚‹æ–¹æ³•ï¼ˆURLã‚’å¤‰ãˆã‚‹ã ã‘ï¼‰', url: 'https://youtube.com/watch?v=LaXVm2D7QJU&si=FferWVSd60Qb2MoQ', type:'yt' },

      // HTMLï¼ˆã“ã®ç¸®å°ç‰ˆè‡ªèº«ã‹ã‚‰ã‚‚ã€åˆ¥ã®è‡ªä½œãƒšãƒ¼ã‚¸ã¸é£›ã¹ã¾ã™ï¼‰
      // ä¾‹ï¼šåˆ¥ã®è‡ªä½œHTML / å¤–éƒ¨ã«ç½®ã„ãŸè‡ªä½œãƒšãƒ¼ã‚¸
      { label: 'C2 â€” ãŠæ°—ã«å…¥ã‚Šç¸®å°ç‰ˆï¼ˆå¤–éƒ¨ãƒªãƒ³ã‚¯ï¼‰', url: 'https://example.com/mini.html', type:'html', embed:false }
    ];

    // YouTube URL â†’ åŸ‹ã‚è¾¼ã¿URL
    function toEmbedURL(url){
      try{
        const u = new URL(url);
        const host = u.hostname.replace(/^www\./,'');
        if(!host.includes('youtu')) return url; // HTMLç­‰ã¯å¤‰æ›ä¸è¦
        if(host === 'youtu.be'){
          const id = u.pathname.split('/').filter(Boolean)[0];
          if(id) return `https://www.youtube.com/embed/${id}?autoplay=1&rel=0&playsinline=1&modestbranding=1`;
        }
        if(host.endsWith('youtube.com')){
          if(u.pathname === '/watch'){
            const id = u.searchParams.get('v');
            if(id) return `https://www.youtube.com/embed/${id}?autoplay=1&rel=0&playsinline=1&modestbranding=1`;
          }
          if(u.pathname.startsWith('/shorts/')){
            const id = u.pathname.split('/')[2];
            if(id) return `https://www.youtube.com/embed/${id}?autoplay=1&rel=0&playsinline=1&modestbranding=1`;
          }
        }
      }catch(e){}
      return url;
    }

    // è¦ç´ 
    const pick  = document.getElementById('pick');
    const frame = document.getElementById('frame');
    const btnPlay = document.getElementById('play');
    const btnOpen = document.getElementById('open');
    const btnStop = document.getElementById('stop');
    const hint = document.getElementById('hint');
    const quick = document.getElementById('quick');

    // ã‚»ãƒ¬ã‚¯ãƒˆæ§‹ç¯‰
    items.forEach((it, i) => {
      const opt = document.createElement('option');
      opt.value = i;
      opt.textContent = it.label + (it.embed===false ? ' ğŸ”—' : '');
      pick.appendChild(opt);
    });
    pick.value = 0;

    // ã‚¯ã‚¤ãƒƒã‚¯ãƒœã‚¿ãƒ³ï¼ˆ2åˆ—ã®å°ã•ã‚ãƒœã‚¿ãƒ³ï¼‰
    items.forEach((it, i) => {
      const btn = document.createElement('button');
      btn.className = 'item-btn';
      btn.innerHTML = `<div>${it.label}</div><small>${it.embed===false?'å¤–éƒ¨ã§é–‹ãæ¨å¥¨':'åŸ‹ã‚è¾¼ã¿å¯ï¼ˆãŸã¶ã‚“ï¼‰'}</small>`;
      btn.onclick = () => { pick.value = i; playSelected(); };
      quick.appendChild(btn);
    });

    function playSelected(){
      const it = items[Number(pick.value)];
      if(it.embed === false){
        window.open(it.url, '_blank');
        hint.textContent = 'åŸ‹ã‚è¾¼ã¿ä¸å¯ï¼šå¤–éƒ¨ã§é–‹ãã¾ã—ãŸã€‚';
        return;
      }
      const src = (it.type === 'yt') ? toEmbedURL(it.url) : it.url;
      frame.src = src;
      hint.textContent = 'åŸ‹ã‚è¾¼ã¿è¡¨ç¤ºä¸­';
    }
    function openSelected(){
      const it = items[Number(pick.value)];
      window.open(it.url, '_blank');
      hint.textContent = 'å¤–éƒ¨ã§é–‹ãã¾ã—ãŸã€‚';
    }
    function stopFrame(){
      frame.src = '';
      hint.textContent = 'åœæ­¢';
    }

    btnPlay.onclick = playSelected;
    btnOpen.onclick = openSelected;
    btnStop.onclick = stopFrame;
  </script>
</body>
</html>